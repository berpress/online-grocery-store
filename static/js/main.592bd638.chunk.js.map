{"version":3,"sources":["config.js","components/Header.jsx","components/Footer.jsx","components/Preloader.jsx","components/GoodsItems.jsx","components/GoodsList.jsx","components/Cart.jsx","components/BasketItem.jsx","components/BasketList.jsx","components/Search.jsx","components/Alert.jsx","components/AlertBuy.jsx","components/Shop.jsx","App.js","index.js"],"names":["API_URL","Header","useState","balance","setUserBalance","useEffect","a","email","Date","now","console","log","registerData","username","password","fetch","method","headers","body","JSON","stringify","response","json","data","uuid","responseAuth","dataAuth","token","access_token","registerBalance","responseBalance","dataBalance","fetchMyAPI","className","href","id","target","rel","Footer","getFullYear","Preloader","GoodsItem","props","description","image","price","itemID","name","addToBasket","Function","prototype","src","alt","onClick","style","fontSize","addStore","addItem","storeId","store_id","GoodsList","goods","removeFromBasket","handlerPrepereClick","idVegatebles","idfruits","idWaters","idSweets","idbBkery","length","map","item","Cart","quantity","handleBasketShow","BasketItem","incQuantity","decQuantity","BasketList","order","setOrderZero","totalPrice","reduce","sum","el","Search","updateGoods","search","setSearch","placeholder","type","value","onChange","e","Alert","closeAlert","timerId","setTimeout","clearTimeout","AlertBuy","Shop","setGoods","loading","setLoading","setOrder","isBasketShow","setBasketShow","alertName","setAlertName","alertNameBuy","setAlertNameBuy","then","items","newGoods","filter","itemIndex","findIndex","orderItem","newItem","newOrder","index","itemId","newQuantity","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.592bd638.chunk.js","sourcesContent":["const API_URL = 'https://stores-tests-api.herokuapp.com';\n\nexport { API_URL };","import React, { Component, useState, useEffect } from 'react';\nimport { API_URL } from '../config.js'\n\n\nfunction Header() {\n  const [balance, setUserBalance] = useState(0);\n  \n  useEffect(() => {\n    async function fetchMyAPI() {\n      const email = `${Date.now()}_admin.com`;\n      const password = 'Password11';\n      console.log(email);\n      // register\n      const registerData = {\n        username: email,\n        password: password\n      }\n      const response = await fetch(`${API_URL}/register`, { \n        method: 'POST',\n        headers: {'Content-Type': 'application/json'},\n        body: JSON.stringify(registerData)\n      });\n      const data = await response.json();\n      const uuid = data.uuid;\n      console.log(`Get ${uuid}`);\n      // Auth and get token\n      const responseAuth = await fetch(`${API_URL}/auth`, { \n        method: 'POST',\n        headers: {'Content-Type': 'application/json'},\n        body: JSON.stringify(registerData)\n      });\n      const dataAuth = await responseAuth.json();\n      const token = dataAuth.access_token;\n      console.log(`Get token ${token}`);\n      // Set user balance\n      const registerBalance = {\n        balance: 10000,\n      }\n      const responseBalance = await fetch(`${API_URL}/balance/${uuid}`, { \n        method: 'POST',\n        headers: {'Content-Type': 'application/json',\n                  \"Authorization\": `JWT ${token}`},\n        body: JSON.stringify(registerBalance)\n      });\n      const dataBalance = await responseBalance.json();\n      const balance = dataBalance.balance;\n      console.log(`Balance is ${balance}`);\n      setUserBalance(balance);\n    }\n\n    fetchMyAPI()\n  }, [])\n\n  // const setBalance = (money) => {\n  //   const newBalance = balance - money;\n  //   setUserBalance(newBalance);\n  // }\n\n\n  return (\n      <nav className='darken-1'>\n          <div className='nav-wrapper'>\n              <a href='/' className='brand-logo'>\n                Products Shop\n              </a>\n              <ul id='nav-mobile' className='right hide-on-med-and-down'>\n                  <li>\n                      <a\n                          href='https://github.com/berpress'\n                          target='_blank'\n                          rel='noreferrer'\n                      >\n                          GitHub\n                      </a>\n                  </li>\n\n                  <li>\n                      <a\n                          href='https://github.com/berpress'\n                          target='_blank'\n                          rel='noreferrer'\n                      >\n                          Balance is {balance}\n                      </a>\n                  </li>\n\n                  <li>\n                      <a\n                          href='https://github.com/berpress'\n                          target='_blank'\n                          rel='noreferrer'\n                      >\n                          Login\n                      </a>\n                  </li>\n              </ul>\n          </div>\n      </nav>\n  );\n}\n\nexport { Header };","import React, { Component }  from 'react';\n\nfunction Footer() {\n  return (\n      <footer className='page-footer lighten-4'>\n          <div className='footer-copyright'>\n              <div className='container'>\n                  © {new Date().getFullYear()} Copyright Text\n                  <a\n                      className='grey-text text-lighten-4 right'\n                      href='https://github.com/berpress'\n                      rel='noreferrer'\n                      target='_blank'\n                  >\n                      Repo\n                  </a>\n              </div>\n          </div>\n      </footer>\n  );\n}\n\nexport { Footer };","import {React} from 'react';\n\nfunction Preloader() {\n  return (\n      <div className='progress'>\n          <div className='indeterminate'></div>\n      </div>\n  );\n}\n\nexport { Preloader };","function GoodsItem(props) {\n  const {description, \n          image, \n          price, \n          itemID, \n          name, \n          addToBasket = Function.prototype, \n        } = props;\n\n  return (\n    <div className='card'>\n        <div className='card-image'>\n            <img src={image} alt={name} />\n        </div>\n        <div className='card-content'>\n            <span className='card-title'>{name}</span>\n            <p>{description}</p>\n        </div>\n        <div className='card-action'>\n            <button\n                className='btn'\n                onClick={() =>\n                    addToBasket({\n                        itemID,\n                        name,\n                        price,\n                    })\n                }\n            >\n                Buy\n            </button>\n            <span className='right' style={{ fontSize: '1.8rem' }}>\n                {price} ₽\n            </span>\n        </div>\n    </div>\n);\n}\n\nexport { GoodsItem };","import React from 'react';\n\nimport { GoodsItem } from './GoodsItems';\nimport { API_URL } from '../config.js'\n\n\nconst addStore = async(name, token) => {\n  const response = await fetch(`${API_URL}/store/${name}`, { \n    method: 'POST',\n    headers: {'Content-Type': 'application/json',\n              \"Authorization\": `JWT ${token}`\n            },\n  });\n  const data = await response.json();\n  const id = data.uuid;\n  console.log(`store ${name} was add, uuid is ${id}`)\n  return id;\n}\n\nconst addItem = async(name, description, price, storeId, image, token) => {\n  const body = {\n    description: description,\n    price: price,\n    store_id: storeId,\n    image: image,\n  }\n  const response = await fetch(`${API_URL}/item/${name}`, { \n    method: 'POST',\n    headers: {'Content-Type': 'application/json',\n              \"Authorization\": `JWT ${token}`\n            },\n    body: JSON.stringify(body)\n  });\n  await response.json();\n  console.log(`item ${name} was add`)\n}\n\nfunction GoodsList(props) {\n    const { goods = [], \n      addToBasket = Function.prototype,\n      removeFromBasket = Function.prototype\n    } = props;\n\n    const handlerPrepereClick = async () => {\n      const email = `${Date.now()}_admin.com`;\n      const password = 'Password11';\n      console.log(email);\n      // register\n      const registerData = {\n        username: email,\n        password: password\n      }\n      const response = await fetch(`${API_URL}/register`, { \n        method: 'POST',\n        headers: {'Content-Type': 'application/json'},\n        body: JSON.stringify(registerData)\n      });\n      const data = await response.json();\n      const uuid = data.uuid;\n      console.log(`Get ${uuid}`);\n      // Auth and get token\n      const responseAuth = await fetch(`${API_URL}/auth`, { \n        method: 'POST',\n        headers: {'Content-Type': 'application/json'},\n        body: JSON.stringify(registerData)\n      });\n      const dataAuth = await responseAuth.json();\n      const token = dataAuth.access_token;\n      console.log(`Get token ${token}`);\n\n      // Add stores\n      const idVegatebles = await addStore('vegetables', token);\n      const idfruits = await addStore('fruits', token);\n      const idWaters = await addStore('waters', token);\n      const idSweets = await addStore('sweets', token);\n      const idbBkery = await addStore('bakery', token);\n\n      // Add Items\n      await addItem(\n        'bananas', \n        'Delicious Brazilian bananas, 1 kg.', \n        99, \n        idfruits, \n        'https://github.com/berpress/online-grocery-store/blob/main/images_shop/bananes.jpg?raw=true',\n        token\n        )\n\n      await addItem(\n        'apples', \n        'Delicious red apples, 1 kg.', \n        112, \n        idfruits, \n        'https://github.com/berpress/online-grocery-store/blob/main/images_shop/apples.jpg?raw=true',\n        token\n        )\n      \n      await addItem(\n        'tomate', \n        'Fresh tomatoes, 1 kg.', \n        38, \n        idVegatebles, \n        'https://github.com/berpress/online-grocery-store/blob/main/images_shop/tomate.jpg?raw=true',\n        token\n        )\n\n      await addItem(\n        'potatoes', \n        'Russian potatoes, 2 kg.', \n        20, \n        idVegatebles, \n        'https://github.com/berpress/online-grocery-store/blob/main/images_shop/potatoes.jpg?raw=true',\n        token\n        )\n\n      await addItem(\n        'pepsi', \n        'Pepsi 1L', \n        38, \n        idWaters, \n        'https://github.com/berpress/online-grocery-store/blob/main/images_shop/Pepsi.jpg?raw=true',\n        token\n        )\n\n      await addItem(\n        'juice Orange', \n        'Orange juice, 750 ml.', \n        111, \n        idWaters, \n        'https://github.com/berpress/online-grocery-store/blob/main/images_shop/orange.jpg?raw=true',\n        token\n        )\n\n      await addItem(\n        'Vanilla ice cream', \n        'Vanilla ice cream, 150 gr.', \n        47, \n        idSweets, \n        'https://github.com/berpress/online-grocery-store/blob/main/images_shop/icecream.png?raw=true',\n        token\n        )\n\n      await addItem(\n          'Chocolate', \n          'Black chocolate, 100 gr.', \n          214, \n          idSweets, \n          'https://github.com/berpress/online-grocery-store/blob/main/images_shop/chocolate.jpg?raw=true',\n          token\n        )\n\n      await addItem(\n        'Bread', \n        'White bread, 340 gr.', \n        47, \n        idbBkery, \n        'https://github.com/berpress/online-grocery-store/blob/main/images_shop/bread.jpg?raw=true',\n        token\n      )\n\n      await addItem(\n        'Cake', \n        'Cake, 75 gr.', \n        99, \n        idbBkery, \n        'https://github.com/berpress/online-grocery-store/blob/main/images_shop/cake.jpeg?raw=true',\n        token\n      )\n    }\n\n\n    if (!goods.length) {\n        return (\n          <div><h3>Nothing here, see github</h3>\n          <a href=\"https://github.com/berpress/flask-restful-api\">Rest API</a> and \n          <a href=\"https://github.com/berpress/online-grocery-store\"> Front </a>\n          or prepare data with API requests: \n          <button onClick={handlerPrepereClick}>Prepere data</button>\n          </div>\n        )\n    }\n\n    return (\n        <div className='goods'>\n            {goods.map((item) => (\n                <GoodsItem \n                key={item.itemID} \n                {...item} \n                addToBasket={addToBasket} \n                removeFromBasket={removeFromBasket}/>\n            ))}\n        </div>\n    );\n}\n\nexport { GoodsList };","function Cart(props) {\n  const {quantity = 0, handleBasketShow = Function.prototype} = props;\n  return  (\n    <div className=\"cart red darken-4 white-text\" onClick={handleBasketShow}>\n      <i className='material-icons'>shopping_cart</i>\n      {quantity ? <span className='cart-quantity'>{quantity}</span> : null}\n    </div>\n  )\n}\n\nexport {Cart};\n","function BasketItem(props) {\n  const {\n    itemID,\n    name,\n    price,\n    quantity,\n    removeFromBasket = Function.prototype,\n    incQuantity = Function.prototype,\n    decQuantity = Function.prototype,\n  } = props;\n\n  return (\n    <li className='collection-item'>\n        {name}{' '}\n        <i\n            className='material-icons basket-quantity'\n            onClick={() => decQuantity(itemID)}\n        >\n            remove\n        </i>{' '}\n        x{quantity}{' '}\n        <i\n            className='material-icons basket-quantity'\n            onClick={() => incQuantity(itemID)}\n        >\n            add\n        </i>{' '}\n        = {price * quantity} руб.\n        <span\n            className='secondary-content'\n            onClick={() => removeFromBasket(itemID)}\n        >\n            <i className='material-icons basket-delete'>close</i>\n        </span>\n    </li>\n);\n}\n\nexport {BasketItem};","import { BasketItem } from './BasketItem';\n\nfunction BasketList(props) {\n  const { order=[], \n    handleBasketShow = Function.prototype,\n    removeFromBasket = Function.prototype,\n    setOrderZero = Function.prototype,\n    incQuantity,\n    decQuantity,\n  } = props;\n\n  const totalPrice = order.reduce((sum, el) => {\n      return sum + el.price * el.quantity;\n  }, 0);\n\n  return (\n    <ui className=\"collection basket-list\">\n      <li className=\"collection-item active\">Корзина</li>\n        {\n          order.length ? order.map((item) =>(\n            <BasketItem \n            key={item.itemID}\n            incQuantity={incQuantity}\n            decQuantity={decQuantity} \n            {...item} \n            removeFromBasket={removeFromBasket}/>\n          )) : <li className=\"collection-item\">Cart is Empty</li>\n        }\n      <li className=\"collection-item active\">Total price: {totalPrice} ₽ </li>\n      <i className=\"material-icons basket-close\" onClick={handleBasketShow}>close</i>\n      <li className='collection-item'>\n          <button className='btn red btn-small' onClick={setOrderZero}>Buy</button>\n      </li>\n  </ui>\n  )\n}\n\nexport {BasketList};","import React, { useState } from 'react';\n\nfunction Search (props) {\n  const { updateGoods = Function.prototype } = props;\n  const [search, setSearch] = useState('');\n  return (\n    <div className=\"input-field\">\n            <input \n                placeholder=\"Search product\" \n                id=\"email_inline\" \n                type=\"search\" \n                className=\"validate\" \n                value={search}\n                onChange={(e) => setSearch(e.target.value)}\n            />\n            <button\n            className='btn search-btn'\n            onClick={() => updateGoods(search)}\n          >Search</button>\n    </div>\n  );\n}\n\nexport {Search};","import { useEffect } from 'react';\n\nfunction Alert(props) {\n    const { name = '', closeAlert = Function.prototype } = props;\n\n    useEffect(() => {\n        const timerId = setTimeout(closeAlert, 5000);\n\n        return () => {\n            clearTimeout(timerId);\n        };\n        // eslint-disable-next-line\n    }, [name]);\n\n    return (\n        <div id='toast-container'>\n            <div className='toast'>{name} add to cart</div>\n        </div>\n    );\n}\n\nexport { Alert };","import { useEffect } from 'react';\n\nfunction AlertBuy(props) {\n    const { closeAlert = Function.prototype } = props;\n\n    useEffect(() => {\n        const timerId = setTimeout(closeAlert, 7000);\n\n        return () => {\n            clearTimeout(timerId);\n        };\n        // eslint-disable-next-line\n    }, [name]);\n\n    return (\n        <div id='toast-container'>\n            <div className='toast'>Pay done!</div>\n        </div>\n    );\n}\n\nexport { AlertBuy };","import React, { useState, useEffect } from 'react';\nimport { API_URL } from '../config.js'\nimport { Preloader } from './Preloader';\nimport { GoodsList } from './GoodsList';\nimport { Cart } from './Cart';\nimport { BasketList } from './BasketList';\nimport { Search } from './Search';\nimport { Alert } from './Alert';\nimport { AlertBuy } from './AlertBuy';\n\n\nfunction Shop() {\n  const [goods, setGoods] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [order, setOrder] = useState([]);\n  const [isBasketShow, setBasketShow] = useState(false);\n  const [alertName, setAlertName] = useState('');\n  const [alertNameBuy, setAlertNameBuy] = useState('');\n\n\n  const closeBuy = (name) => {\n    setAlertNameBuy(name);\n  };\n\n\n  useEffect(function getGoods() {\n      fetch(`${API_URL}/items`, {\n      })\n      .then(response => response.json())\n      .then(data => {\n        data && setGoods(data.items);\n        setLoading(false);\n      })\n  }, []) \n\n  const updateGoods = (name) => {\n    const newGoods = goods.filter(function(item) {\n      return name === item.name\n    })\n    setGoods(newGoods);\n  }\n\n  const addToBasket = (item) => {\n    console.log(order);\n    const itemIndex = order.findIndex(\n        (orderItem) => orderItem.itemID === item.itemID\n  );\n    if (itemIndex < 0) {\n        const newItem = {\n            ...item,\n            quantity: 1,\n        };\n        setOrder([...order, newItem]);\n    } else {\n        const newOrder = order.map((orderItem, index) => {\n            if (index === itemIndex) {\n                return {\n                    ...orderItem,\n                    quantity: orderItem.quantity + 1,\n                };\n            } else {\n                return orderItem;\n            }\n        });\n\n        setOrder(newOrder);\n    }\n    setAlertName(item.name);\n};\n\n  const handleBasketShow = () => {\n    setBasketShow(!isBasketShow);\n  };\n\n  const removeFromBasket = (itemId) => {\n    const newOrder = order.filter((el) => el.itemID !== itemId);\n    setOrder(newOrder);\n  };\n\n  const setOrderZero = () => {\n    setOrder([]);\n    setAlertNameBuy('buy');\n  }\n\n  const closeAlert = () => {\n    setAlertName('');\n  };\n\n  const incQuantity = (itemId) => {\n      const newOrder = order.map((el) => {\n          if (el.itemID === itemId) {\n              const newQuantity = el.quantity + 1;\n              return {\n                  ...el,\n                  quantity: newQuantity,\n              };\n          } else {\n              return el;\n          }\n      });\n      setOrder(newOrder);\n    };\n\n  const decQuantity = (itemId) => {\n        const newOrder = order.map((el) => {\n            if (el.itemID === itemId) {\n                const newQuantity = el.quantity - 1;\n                return {\n                    ...el,\n                    quantity: newQuantity >= 0 ? newQuantity : 0,\n                };\n            } else {\n                return el;\n            }\n        });\n        setOrder(newOrder);\n    };\n\n  return <main className=\"container content\" >\n    <Search goods={goods} updateGoods={updateGoods}/>\n    <Cart quantity={order.length}handleBasketShow={handleBasketShow} />\n    {loading ? <Preloader /> : <GoodsList goods={goods} addToBasket={addToBasket}/>}\n    {\n      isBasketShow && <BasketList \n      order={order} \n      handleBasketShow={handleBasketShow}\n      removeFromBasket={removeFromBasket}\n      incQuantity={incQuantity}\n      decQuantity={decQuantity}\n      setOrderZero={setOrderZero}\n      />\n    }\n    {alertName && <Alert name={alertName} closeAlert={closeAlert} />}\n    {alertNameBuy && <AlertBuy closeAlert={closeBuy} name={alertNameBuy}/>}\n  </main>\n}\n\nexport { Shop };\n","import React, { Component }  from 'react';\n\nimport { Header } from './components/Header';\nimport { Footer } from './components/Footer';\nimport { Shop } from './components/Shop';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Header />\n      <Shop />\n      <Footer />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}